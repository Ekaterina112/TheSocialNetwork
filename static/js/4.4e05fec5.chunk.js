(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[4],{294:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var s=n(3),o=n(40),c=n(1),r=(n(0),n(76)),a=n.n(r),i=function(e){var t=e.input,n=e.meta,r=n.touched,i=n.error,j=Object(o.a)(e,["input","meta"]),u=r&&i;return Object(c.jsxs)("div",{className:a.a.formControl+" "+(u?a.a.error:""),children:[Object(c.jsx)("div",{children:Object(c.jsx)("textarea",Object(s.a)(Object(s.a)({},t),j))}),u&&Object(c.jsx)("span",{children:i})]})}},296:function(e,t,n){e.exports={profile:"ProfileInfo_profile__37IVM",avatar:"ProfileInfo_avatar__1VI09"}},297:function(e,t,n){"use strict";n.r(t);var s=n(3),o=n(35),c=n(36),r=n(39),a=n(38),i=n(1),j=n(0),u=n.n(j),l=(n(96),n(98)),b=function(e){return Object(i.jsxs)("div",{children:[e.message,Object(i.jsxs)("div",{children:[e.count," "]})]})},d=n(133),p=n(134),h=n(56),O=n(294),f=Object(h.a)(10),x=Object(h.b)(3),v=Object(p.a)({form:"dialog"})((function(e){return Object(i.jsxs)("form",{onSubmit:e.handleSubmit,children:[Object(i.jsx)(d.a,{placeholder:"new post...",name:"newPostBody",component:O.a,validate:[h.c,f,x]}),Object(i.jsx)("button",{children:"Add post"})]})})),m=u.a.memo((function(e){var t=e.postData.map((function(e){return Object(i.jsx)(b,{message:e.message,count:e.count},e.id)}));return Object(i.jsxs)("div",{children:[Object(i.jsx)("h3",{children:" my posts"}),Object(i.jsx)(v,{onSubmit:function(t){e.addPost(t.newPostBody)}}),Object(i.jsx)("div",{children:t})]})})),g=n(15),P=Object(g.b)((function(e){return{postData:e.profilePage.postData,newPostText:e.profilePage.newPostText}}),(function(e){return{addPost:function(t){e(Object(l.a)(t))}}}))(m),k=n(99),S=n(296),A=n.n(S),w=n(65),y=function(e){var t=e.status,n=e.updateStatus,s=Object(j.useState)(t),o=Object(k.a)(s,2),c=o[0],r=o[1],a=Object(j.useState)(!1),u=Object(k.a)(a,2),l=u[0],b=u[1];Object(j.useEffect)((function(){r(t)}),[t]);return Object(i.jsxs)("div",{children:[Object(i.jsxs)("div",{children:[Object(i.jsx)("b",{children:"Status:"}),!l&&Object(i.jsx)("span",{onDoubleClick:function(){b(!0)},children:c})]}),Object(i.jsx)("div",{children:l&&Object(i.jsx)("input",{onBlur:function(){b(!1),n(c)},onChange:function(e){r(e.currentTarget.value)},value:c})})]})},D=function(e){var t=e.contactTitle,n=e.contactValue;return Object(i.jsxs)("div",{children:[Object(i.jsx)("b",{children:t}),":",n]})},F=function(e){var t=e.profile,n=e.isOwner,s=e.openEditMode;return Object(i.jsxs)("div",{className:A.a.avatar,children:[n&&Object(i.jsx)("div",{children:Object(i.jsx)("button",{onClick:s,children:"EDIT"})}),Object(i.jsxs)("div",{children:[Object(i.jsx)("b",{children:"Full Name"}),": ",t.fullName]}),Object(i.jsxs)("div",{children:[Object(i.jsx)("b",{children:"About Me"}),": ",t.aboutMe]}),Object(i.jsxs)("div",{children:[Object(i.jsx)("b",{children:"Looking For A Job"}),": ",t.lookingForAJob?"yes":"no"]}),t.lookingForAJob?Object(i.jsxs)("div",{children:[Object(i.jsx)("b",{children:"Looking For A Job Description"}),": ",t.lookingForAJobDescription]}):"",Object(i.jsxs)("div",{children:[Object(i.jsx)("b",{children:"Contacts"}),": ",Object.keys(t.contacts).map((function(e){return Object(i.jsx)(D,{contactTitle:e,contactValue:t.contacts[e]},e)}))]})]})},N=n(52),J=n(111),I=n.n(J),C=Object(p.a)({form:"edit-mode-profile"})((function(e){var t=e.handleSubmit,n=e.profile,s=e.error;return Object(i.jsxs)("form",{onSubmit:t,children:[Object(i.jsx)("button",{children:"SAVE"}),s&&Object(i.jsx)("div",{className:I.a.formControlSummaryError,children:s}),Object(i.jsxs)("div",{children:[Object(i.jsx)("b",{children:"Full Name"}),": ",Object(i.jsx)(d.a,{placeholder:"Full Name",name:"fullName",component:N.a,validate:[h.c]})]}),Object(i.jsxs)("div",{children:[Object(i.jsx)("b",{children:"About Me"}),": ",Object(i.jsx)(d.a,{placeholder:"About Me",name:"aboutMe",component:O.a,validate:[h.c]})]}),Object(i.jsxs)("div",{children:[Object(i.jsx)("b",{children:"Looking For A Job"}),": ",Object(i.jsx)(d.a,{type:"checkbox",value:"LookingForAJob",name:"LookingForAJob",component:N.a})]}),Object(i.jsxs)("div",{children:[Object(i.jsx)("b",{children:"Looking For A Job Description"}),": ",Object(i.jsx)(d.a,{placeholder:"Looking For A Job Description",name:"lookingForAJobDescription",component:O.a,validate:[h.c]})]}),Object(i.jsxs)("div",{children:[Object(i.jsx)("b",{children:"Contacts"}),": ",Object.keys(n.contacts).map((function(e){return Object(i.jsxs)("div",{children:[Object(i.jsxs)("b",{children:[e,":"]}),Object(i.jsx)(d.a,{placeholder:e,name:"contacts.".concat(e),component:N.a})]},e)}))]})]})})),M=n(110),L=function(e){var t=e.profile,n=e.status,s=e.updateStatus,o=e.isOwner,c=e.savePhoto,r=e.saveNewProfileData,a=Object(j.useState)(!1),u=Object(k.a)(a,2),l=u[0],b=u[1];return t?Object(i.jsxs)("div",{className:A.a.profile,children:[Object(i.jsx)("img",{src:null!=t.photos.large?t.photos.large:M.a,alt:"here avatar"}),o&&Object(i.jsx)("input",{type:"file",onChange:function(e){e.target.files.length&&c(e.target.files[0])}}),l?Object(i.jsx)(C,{profile:t,initialValues:t,onSubmit:function(e){r(e).then((function(){b(!1)}))}}):Object(i.jsx)(F,{profile:t,isOwner:o,openEditMode:function(){return b(!0)}}),Object(i.jsx)(y,{status:n,updateStatus:s})]}):Object(i.jsx)(w.a,{})},E=function(e){var t=e.profile,n=e.status,s=e.updateStatus,o=e.isOwner,c=e.savePhoto,r=e.saveNewProfileData;return Object(i.jsxs)("div",{children:[Object(i.jsx)(L,{savePhoto:c,isOwner:o,profile:t,status:n,updateStatus:s,saveNewProfileData:r}),Object(i.jsx)(P,{})]})},T=n(11),V=n(97),_=n(10),U=function(e){Object(r.a)(n,e);var t=Object(a.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"refreshProfile",value:function(){var e=Number(this.props.match.params.userId);e||(e=this.props.currentUserId)||this.props.history.push("/login"),this.props.getUserProfile(e),this.props.getStatus(e)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(e,t,n){this.props.match.params.userId!==e.match.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return this.props.profile?Object(i.jsx)(E,Object(s.a)(Object(s.a)({isOwner:!this.props.match.params.userId},this.props),{},{profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatus,savePhoto:this.props.savePhoto})):Object(i.jsx)(w.a,{})}}]),n}(u.a.Component);t.default=Object(_.d)(Object(g.b)((function(e){return{profile:e.profilePage.profile,status:e.profilePage.status,currentUserId:e.auth.id,isAuth:e.auth.isAuth}}),{getUserProfile:l.d,getStatus:l.c,updateStatus:l.g,savePhoto:l.f,saveNewProfileData:l.e}),T.f,V.a)(U)}}]);
//# sourceMappingURL=4.4e05fec5.chunk.js.map